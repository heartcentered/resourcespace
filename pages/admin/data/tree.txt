#NUMBER;PARENT;FOLDERNAME;ISFOLDER;ISCLICKABLE;ICON;TREEQUERY;SELECT PARAMS QUERY;UPDATE / INSERT PARAMS QUERY;DELETE;REORDER
1   ;;Group Management;true;false;dict;
2	;1;New Group;false;true;new;;select '' txt_name;insert into usergroup(name,parent) values('[name]',0);
3  ;4;New Subgroup;false;true;new;;select '' txt_name;insert into usergroup(name,parent) values('[name]','%recurse');
4  ;1;Group;true;true;user;select ref,name from usergroup u1 where ('%recurse'=0 and (parent is null or parent=0 or parent='' or (select count(*) from usergroup u2 where u2.ref=u1.parent)=0)) or ('%recurse'<>0 and parent='%recurse')   order by name;select 'See <a href=../../documentation/permissions.txt target=_blank>the permissions help text file</a> for further information on permissions.',ref txt_reference,name txt_name,permissions mtx_permissions,'NOTE: Global permissions from config may also be in effect',fixed_theme txt_fixed_theme,parent txt_parent,search_filter mtx_search_filter,edit_filter mtx_edit_filter,resource_defaults mtx_resource_defaults,config_options mtx_override_config_options,welcome_message mtx_email_welcome_message,'Wildcards are supported for IP address restrictions, e.g. 128.124.*',ip_restrict txt_IP_address_restriction,'Request Mode',request_mode drp_12,allow_registration_selection bit_allow_registration_selection from usergroup where ref='%recurse';update usergroup set name='[name]',permissions='[permissions]',fixed_theme='[fixed_theme]',parent='[parent]',search_filter='[search_filter]',edit_filter='[edit_filter]',resource_defaults='[resource_defaults]',config_options='[override_config_options]',welcome_message='[email_welcome_message]',ip_restrict='[IP_address_restriction]',request_mode='[12]',allow_registration_selection='[allow_registration_selection]' where ref='%recurse';delete from usergroup where ref='%recurse';
5  ;999;User;false;true;identity;select ref,username name from user where usergroup='%2';select 'Group',usergroup drp_3,username txt_login_username,password txt_login_password,email txt_email, last_ip txt_last_IP_address,last_browser txt_last_browser,last_active txt_last_activity from user where ref='%3';update user set usergroup='[3]',username='[login_username]',password='[login_password]',email='[email]' where ref='%3';delete from user where ref='%3';
6	;;Resource Types / Fields;true;false;dict;
7	;6;New Resource Type;false;true;new;;select '' txt_name,'','If set, only files with the specified extensions are allowed upon upload to this type, ex. jpg,gif', '' txt_allowed_extensions;insert into resource_type(name,allowed_extensions) values('[name]','[allowed_extensions]');	
8	;6;Resource Type;true;true;box;select ref,name from resource_type union select 0,'Global Fields' union select 999, 'Archive Only' order by name;select name txt_name,'' ,'If set, only files with the specified extensions are allowed upon upload to this type, e.g. jpg,gif',allowed_extensions mtx_allowed_extensions from resource_type where ref='%2';update resource_type set name='[name]',allowed_extensions='[allowed_extensions]' where ref='%2';delete from resource_type where ref='%2';
9	;8;New Field;false;true;new;;select '' txt_title;insert into resource_type_field(title,resource_type) values('[title]','%2');	
10	;8;Field;false;true;panel;select ref,title name from resource_type_field where resource_type='%2' order by order_by;select ref txt_field_id,title txt_title,'Resource Type',resource_type drp_8,'Field Type',type drp_11,'<br /><b>Please note</b> - it is better to use the Manage Field Options function from the Team Home to edit field options as existing data is automatically migrated when options are renamed.',options mtx_options,required bit_required,order_by txt_order_by,keywords_index bit_index_this_field,'Partial keyword indexing (prefix+infix indexing) should be used sparingly as it will significantly increase the index size. See the wiki for details.',partial_index bit_enable_partial_indexing,'Important: Shorthand name must contain only lowercase alphabetical characters - no spaces, numbers or symbols.',name txt_shorthand_name,display_field bit_display_field,advanced_search bit_enable_advanced_search,simple_search bit_enable_simple_search,use_for_similar bit_use_for_find_similar_searching,iptc_equiv txt_iptc_equiv,display_template mtx_display_template,tab_name txt_tab_name,smart_theme_name txt_smart_theme_name,exiftool_field txt_exiftool_field,help_text mtx_help_text,'Checkbox lists and dropdown boxes: display as a dropdown box on the advanced search? (the default is to display both as checkbox lists on the advanced search page to enable OR functionality)',display_as_dropdown bit_display_as_dropdown from resource_type_field where ref='%3';update resource_type_field set title='[title]',name='[shorthand_name]',resource_type='[8]',type='[11]',options='[options]',required='[required]',order_by='[order_by]',keywords_index='[index_this_field]',partial_index='[enable_partial_indexing]',display_field='[display_field]',advanced_search='[enable_advanced_search]',simple_search='[enable_simple_search]',use_for_similar='[use_for_find_similar_searching]',iptc_equiv='[iptc_equiv]',display_template='[display_template]',tab_name='[tab_name]',smart_theme_name='[smart_theme_name]',exiftool_field='[exiftool_field]',help_text='[help_text]',display_as_dropdown='[display_as_dropdown]' where ref='%3';delete from resource_type_field where ref='%3';update resource_type_field set order_by='%order' where ref='%id';
11	;999;Type Dropdown Macro;;;;select 0 ref,'Text Box (single line)' name union select 1 ref,'Text Box (multi-line)' name union select 5 ref,'Text Box (large multi-line)' name union select 2 ref,'Check box list' name union select 3 ref,'Drop down list' name union select 4 ref,'Date / Time' name union select 6 ref,'Expiry Date' name union select 7 ref,'Category Tree' name;
12	;999;Request Mode Dropdown Macro;;;;select 0 ref,'Email Only' name union select 1 ref,'Managed' name union select 2 ref,'Payment - Immediate' name union select 3 ref,'Payment - Invoice' name;
13	;999;
14	;999;
15	;999;
16	;999;
17	;;Reports;true;false;dict;
18	;17;New Report;false;true;new;;select '' txt_name;insert into report(name) values('[name]');	
19  ;17;Report;false;true;write;select ref,name from report order by name;select name txt_name,query btx_query from report where ref='%2';update report set name='[name]',query='[query]' where ref='%2';delete from report where ref='%2';
20	;;Downloads / Preview Sizes;true;false;dict;
21	;20;New Download / Preview Size;false;true;new;;select '' txt_name,'' txt_id;insert into preview_size(name,id) values('[name]','[id]');	
22  ;20;Preview Size;false;true;write;select id ref,name from preview_size order by width;select name txt_name,width txt_width,height txt_height,padtosize bit_pad_to_size,internal bit_internal,allow_preview bit_allow_preview,allow_restricted bit_allow_restricted_download from preview_size where id='%2';update preview_size set name='[name]',width='[width]',height='[height]',padtosize='[pad_to_size]',internal='[internal]',allow_preview='[allow_preview]',allow_restricted='[allow_restricted_download]' where id='%2';delete from preview_size where id='%2';
23	;;Database Statistics;false;true;query;;select (select count(*) from resource) txt_total_resources,(select count(*) from keyword) txt_total_keywords,(select count(*) from resource_keyword) txt_resource_keyword_relationships,(select count(*) from collection) txt_total_collections,(select count(*) from collection_resource) txt_collection_resource_relationships,(select count(*) from user) txt_total_users;
24	;;Permissions Search;true;false;query;
25  ;24;Group;false;true;user;select ref, name from usergroup where concat(',',permissions,',') like '%\,%search%\,' or permissions like '%\,%search\*%' or name like '%\,%search\-%' order by name;select 'See <a href=../../documentation/permissions.txt target=_blank>the permissions help text file</a> for further information on permissions.',ref txt_reference,name txt_name,permissions mtx_permissions,'NOTE: Global permissions from config may also be in effect',fixed_theme txt_fixed_theme,parent txt_parent,search_filter mtx_search_filter,edit_filter mtx_edit_filter,resource_defaults mtx_resource_defaults,config_options mtx_override_config_options,welcome_message mtx_email_welcome_message,'Wildcards are supported for IP address restrictions, e.g. 128.124.*',ip_restrict txt_IP_address_restriction,'Request Mode',request_mode drp_12,allow_registration_selection bit_allow_registration_selection,'<b>IMPORTANT: Do not delete a group if it still has children!</b>' from usergroup where ref='%recurse';update usergroup set name='[name]',permissions='[permissions]',fixed_theme='[fixed_theme]',parent='[parent]',search_filter='[search_filter]',edit_filter='[edit_filter]',resource_defaults='[resource_defaults]',config_options='[override_config_options]',welcome_message='[email_welcome_message]',ip_restrict='[IP_address_restriction]',request_mode='[12]',allow_registration_selection='[allow_registration_selection]' where ref='%2';delete from usergroup where ref='%2';
